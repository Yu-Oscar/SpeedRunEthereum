{
  "address": "0xf63995f134317807a80c5FFd1F40c964CaecA071",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "EmptyArray",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "IndexOutOfBounds",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoOraclesAvailable",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyOwner",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oracleAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "oracleOwner",
          "type": "address"
        }
      ],
      "name": "OracleAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oracleAddress",
          "type": "address"
        }
      ],
      "name": "OracleRemoved",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "STALE_DATA_WINDOW",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "name": "addOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getActiveOracleNodes",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "oracles",
      "outputs": [
        {
          "internalType": "contract SimpleOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "removeOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xda79df0614ae959a14c6a8d30b1522648f3a0869bca939567e06d1328a1cd092",
  "receipt": {
    "to": null,
    "from": "0xEe3869d7dFc3e1a2CB6399E00C6a39E019E1A80b",
    "contractAddress": "0xf63995f134317807a80c5FFd1F40c964CaecA071",
    "transactionIndex": 85,
    "gasUsed": "831355",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xc0c7df41e4724be3f571ee69bb5e1c55b80bad21d2c087d0e58c69f6695f7d25",
    "transactionHash": "0xda79df0614ae959a14c6a8d30b1522648f3a0869bca939567e06d1328a1cd092",
    "logs": [],
    "blockNumber": 10260153,
    "cumulativeGasUsed": "45427385",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "ade334ae8cbcd38db5ddaaeacba5afbf",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"EmptyArray\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IndexOutOfBounds\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoOraclesAvailable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyOwner\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oracleAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oracleOwner\",\"type\":\"address\"}],\"name\":\"OracleAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oracleAddress\",\"type\":\"address\"}],\"name\":\"OracleRemoved\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"STALE_DATA_WINDOW\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"addOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getActiveOracleNodes\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"oracles\",\"outputs\":[{\"internalType\":\"contract SimpleOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"removeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"addOracle(address)\":{\"details\":\"Creates a new SimpleOracle instance and adds it to the oracles array.\",\"params\":{\"_owner\":\"The address that will own the newly created oracle and can update its price\"}},\"getActiveOracleNodes()\":{\"details\":\"Iterates through all oracles and filters those with recent timestamps (within STALE_DATA_WINDOW).      Uses a temporary array to collect active nodes, then creates a right-sized return array      for gas optimization.\",\"returns\":{\"_0\":\"An array of addresses representing the currently active oracle contracts\"}},\"getPrice()\":{\"details\":\"Filters oracles with timestamps older than STALE_DATA_WINDOW, then calculates median      of remaining valid prices. Uses StatisticsUtils for sorting and median calculation.\",\"returns\":{\"_0\":\"The median price from all active oracles\"}},\"removeOracle(uint256)\":{\"details\":\"Uses swap-and-pop pattern for gas-efficient removal. Order is not preserved.      Reverts with IndexOutOfBounds, if the provided index is >= oracles.length.\",\"params\":{\"index\":\"The index of the oracle to remove from the oracles array\"}}},\"version\":1},\"userdoc\":{\"errors\":{\"EmptyArray()\":[{\"notice\":\"Errors //////\"}],\"OnlyOwner()\":[{\"notice\":\"Errors //////\"}]},\"events\":{\"OracleAdded(address,address)\":{\"notice\":\"Events /////\"}},\"kind\":\"user\",\"methods\":{\"addOracle(address)\":{\"notice\":\"Adds a new oracle to the whitelist by deploying a SimpleOracle contract (only contract owner)\"},\"constructor\":{\"notice\":\"Constructor ///\"},\"getActiveOracleNodes()\":{\"notice\":\"Returns the addresses of all oracles that have updated their price within the last STALE_DATA_WINDOW\"},\"getPrice()\":{\"notice\":\"Returns the aggregated price from all active oracles using median calculation\"},\"owner()\":{\"notice\":\"State Variables //\"},\"removeOracle(uint256)\":{\"notice\":\"Removes an oracle from the whitelist by its array index (only contract owner)\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/00_Whitelist/WhitelistOracle.sol\":\"WhitelistOracle\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/00_Whitelist/SimpleOracle.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\ncontract SimpleOracle {\\n    /////////////////\\n    /// Errors //////\\n    /////////////////\\n\\n    error OnlyOwner();\\n\\n    //////////////////////\\n    /// State Variables //\\n    //////////////////////\\n\\n    uint256 public price;\\n    uint256 public timestamp;\\n    address public owner;\\n\\n    ////////////////\\n    /// Events /////\\n    ////////////////\\n\\n    event PriceUpdated(uint256 newPrice);\\n\\n    ///////////////////\\n    /// Constructor ///\\n    ///////////////////\\n\\n    constructor(address _owner) {\\n        owner = _owner;\\n    }\\n\\n    ///////////////////\\n    /// Modifiers /////\\n    ///////////////////\\n\\n    /**\\n     * @notice Modifier to restrict function access to the contract owner\\n     * @dev Currently disabled to make it easy for you to impersonate the owner\\n     */\\n    modifier onlyOwner() {\\n        // Intentionally removing the owner requirement to make it easy for you to impersonate the owner\\n        // if (msg.sender != owner) revert OnlyOwner();\\n        _;\\n    }\\n\\n    ///////////////////\\n    /// Functions /////\\n    ///////////////////\\n\\n    /**\\n     * @notice Updates the oracle price with a new value (only contract owner)\\n     * @dev Sets the price and records the current block timestamp for freshness tracking.\\n     *      Emits PriceUpdated event upon successful update.\\n     * @param _newPrice The new price value to set for this oracle\\n     */\\n    function setPrice(uint256 _newPrice) public onlyOwner {\\n        price = _newPrice;\\n        timestamp = block.timestamp;\\n        emit PriceUpdated(_newPrice);\\n    }\\n\\n    /**\\n     * @notice Returns the current price and its timestamp\\n     * @dev Provides both the stored price value and when it was last updated.\\n     *      Used by aggregators to determine price freshness.\\n     * @return price The current price stored in this oracle\\n     * @return timestamp The block timestamp when the price was last updated\\n     */\\n    function getPrice() public view returns (uint256, uint256) {\\n        return (price, timestamp);\\n    }\\n}\\n\",\"keccak256\":\"0xf7824e681abc476a008bc4aa06b41e0c9d54e3a84db98ae142dae10eb022275b\",\"license\":\"MIT\"},\"contracts/00_Whitelist/WhitelistOracle.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport \\\"./SimpleOracle.sol\\\";\\nimport { StatisticsUtils } from \\\"../utils/StatisticsUtils.sol\\\";\\n\\ncontract WhitelistOracle {\\n    using StatisticsUtils for uint256[];\\n\\n    /////////////////\\n    /// Errors //////\\n    /////////////////\\n\\n    error OnlyOwner();\\n    error IndexOutOfBounds();\\n    error NoOraclesAvailable();\\n\\n    //////////////////////\\n    /// State Variables //\\n    //////////////////////\\n\\n    address public owner;\\n    SimpleOracle[] public oracles;\\n    uint256 public constant STALE_DATA_WINDOW = 24 seconds;\\n\\n    ////////////////\\n    /// Events /////\\n    ////////////////\\n\\n    event OracleAdded(address oracleAddress, address oracleOwner);\\n    event OracleRemoved(address oracleAddress);\\n\\n    ///////////////////\\n    /// Modifiers /////\\n    ///////////////////\\n\\n    /**\\n     * @notice Modifier to restrict function access to the contract owner\\n     * @dev Currently disabled to make it easy for you to impersonate the owner\\n     */\\n    modifier onlyOwner() {\\n        // if (msg.sender != owner) revert OnlyOwner();\\n        _;\\n    }\\n\\n    ///////////////////\\n    /// Constructor ///\\n    ///////////////////\\n\\n    constructor() {\\n        owner = msg.sender;\\n    }\\n\\n    ///////////////////\\n    /// Functions /////\\n    ///////////////////\\n\\n    /**\\n     * @notice Adds a new oracle to the whitelist by deploying a SimpleOracle contract (only contract owner)\\n     * @dev Creates a new SimpleOracle instance and adds it to the oracles array.\\n     * @param _owner The address that will own the newly created oracle and can update its price\\n     */\\n    function addOracle(address _owner) public onlyOwner {\\n        SimpleOracle newOracle = new SimpleOracle(_owner);\\n        address oracleAddress = address(newOracle);\\n        oracles.push(newOracle);\\n        emit OracleAdded(oracleAddress, _owner);\\n    }\\n\\n    /**\\n     * @notice Removes an oracle from the whitelist by its array index (only contract owner)\\n     * @dev Uses swap-and-pop pattern for gas-efficient removal. Order is not preserved.\\n     *      Reverts with IndexOutOfBounds, if the provided index is >= oracles.length.\\n     * @param index The index of the oracle to remove from the oracles array\\n     */\\n    function removeOracle(uint256 index) public onlyOwner {\\n        if (oracles.length <= index) {\\n            revert IndexOutOfBounds();\\n        }\\n        address oracleAddress = address(oracles[index]);\\n        oracles[index] = oracles[oracles.length - 1];\\n        oracles.pop();\\n        emit OracleRemoved(oracleAddress);\\n    }\\n\\n    /**\\n     * @notice Returns the aggregated price from all active oracles using median calculation\\n     * @dev Filters oracles with timestamps older than STALE_DATA_WINDOW, then calculates median\\n     *      of remaining valid prices. Uses StatisticsUtils for sorting and median calculation.\\n     * @return The median price from all active oracles\\n     */\\n    function getPrice() public view returns (uint256) {\\n        if (oracles.length == 0) {\\n            revert NoOraclesAvailable();\\n        }\\n\\n        uint256[] memory freshPrices = new uint256[](oracles.length);\\n        uint256 freshCount = 0;\\n\\n        for (uint256 i = 0; i < oracles.length; i++) {\\n            (uint256 price, uint256 timestamp) = oracles[i].getPrice();\\n            if (block.timestamp - timestamp < STALE_DATA_WINDOW) {\\n                freshPrices[freshCount] = price;\\n                freshCount++;\\n            }\\n        }\\n\\n        if (freshCount == 0) {\\n            revert NoOraclesAvailable();\\n        }\\n\\n        uint256[] memory validPrices = new uint256[](freshCount);\\n        for (uint256 i = 0; i < freshCount; i++) {\\n            validPrices[i] = freshPrices[i];\\n        }\\n\\n        validPrices.sort();\\n        return validPrices.getMedian();\\n    }\\n\\n    /**\\n     * @notice Returns the addresses of all oracles that have updated their price within the last STALE_DATA_WINDOW\\n     * @dev Iterates through all oracles and filters those with recent timestamps (within STALE_DATA_WINDOW).\\n     *      Uses a temporary array to collect active nodes, then creates a right-sized return array\\n     *      for gas optimization.\\n     * @return An array of addresses representing the currently active oracle contracts\\n     */\\n    function getActiveOracleNodes() public view returns (address[] memory) {\\n        if (oracles.length == 0) {\\n            return new address[](0);\\n        }\\n\\n        address[] memory freshOracles = new address[](oracles.length);\\n        uint256 freshCount = 0;\\n\\n        for (uint256 i = 0; i < oracles.length; i++) {\\n            (, uint256 timestamp) = oracles[i].getPrice();\\n            if (block.timestamp - timestamp < STALE_DATA_WINDOW) {\\n                freshOracles[freshCount] = address(oracles[i]);\\n                freshCount++;\\n            }\\n        }\\n\\n        if (freshCount == 0) {\\n            return new address[](0);\\n        }\\n\\n        address[] memory validOracles = new address[](freshCount);\\n        for (uint256 i = 0; i < freshCount; i++) {\\n            validOracles[i] = freshOracles[i];\\n        }\\n\\n        return validOracles;\\n    }\\n}\\n\",\"keccak256\":\"0x7fd068fa8d0fee98e6318eee733e79cd31a3eb99053259a61d3681a9f756b4d7\",\"license\":\"MIT\"},\"contracts/utils/StatisticsUtils.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\nlibrary StatisticsUtils {\\n    /////////////////\\n    /// Errors //////\\n    /////////////////\\n\\n    error EmptyArray();\\n\\n    ///////////////////\\n    /// Functions /////\\n    ///////////////////\\n\\n    /**\\n     * @notice Sorts an array of uint256 values in ascending order using selection sort\\n     * @dev Uses selection sort algorithm which is not gas-efficient but acceptable for small arrays.\\n     *      This implementation mimics the early MakerDAO Medianizer exactly.\\n     *      Modifies the input array in-place.\\n     * @param arr The array of uint256 values to sort in ascending order\\n     */\\n    function sort(uint256[] memory arr) internal pure {\\n        uint256 n = arr.length;\\n        for (uint256 i = 0; i < n; i++) {\\n            uint256 minIndex = i;\\n            for (uint256 j = i + 1; j < n; j++) {\\n                if (arr[j] < arr[minIndex]) {\\n                    minIndex = j;\\n                }\\n            }\\n            if (minIndex != i) {\\n                (arr[i], arr[minIndex]) = (arr[minIndex], arr[i]);\\n            }\\n        }\\n    }\\n\\n    /**\\n     * @notice Calculates the median value from a sorted array of uint256 values\\n     * @dev For arrays with even length, returns the average of the two middle elements.\\n     *      For arrays with odd length, returns the middle element.\\n     *      Assumes the input array is already sorted in ascending order.\\n     * @param arr The sorted array of uint256 values to calculate median from\\n     * @return The median value as a uint256\\n     */\\n    function getMedian(uint256[] memory arr) internal pure returns (uint256) {\\n        uint256 length = arr.length;\\n        if (length == 0) revert EmptyArray();\\n        if (length % 2 == 0) {\\n            return (arr[length / 2 - 1] + arr[length / 2]) / 2;\\n        } else {\\n            return arr[length / 2];\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xc0949844270a074ee4289211c32b5e33062343fb5ae282c314a944e344e609cc\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50600080546001600160a01b03191633179055610dad806100326000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063977e79231161005b578063977e7923146100da57806398d5fdca146100f0578063df5dd1a5146100f8578063fb152f8c1461010b57600080fd5b80635b69a7d81461008257806380935dbf146100b25780638da5cb5b146100c7575b600080fd5b6100956100903660046109ec565b610120565b6040516001600160a01b0390911681526020015b60405180910390f35b6100c56100c03660046109ec565b61014a565b005b600054610095906001600160a01b031681565b6100e2601881565b6040519081526020016100a9565b6100e261028a565b6100c5610106366004610a05565b6104cb565b610113610599565b6040516100a99190610a2e565b6001818154811061013057600080fd5b6000918252602090912001546001600160a01b0316905081565b600154811061016c57604051634e23d03560e01b815260040160405180910390fd5b60006001828154811061018157610181610a7b565b600091825260209091200154600180546001600160a01b039092169250906101aa908290610aa7565b815481106101ba576101ba610a7b565b600091825260209091200154600180546001600160a01b0390921691849081106101e6576101e6610a7b565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600180548061022557610225610ac0565b6000828152602090819020600019908301810180546001600160a01b03191690559091019091556040516001600160a01b03831681527f9c8e7d83025bef8a04c664b2f753f64b8814bdb7e27291d7e50935f18cc3c712910160405180910390a15050565b60015460009081036102af5760405163d9aad26b60e01b815260040160405180910390fd5b60015460009067ffffffffffffffff8111156102cd576102cd610ad6565b6040519080825280602002602001820160405280156102f6578160200160208202803683370190505b5090506000805b6001548110156103f3576000806001838154811061031d5761031d610a7b565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b03166398d5fdca6040518163ffffffff1660e01b81526004016040805180830381865afa158015610377573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039b9190610aec565b909250905060186103ac8242610aa7565b10156103de57818585815181106103c5576103c5610a7b565b6020908102919091010152836103da81610b10565b9450505b505080806103eb90610b10565b9150506102fd565b50806000036104155760405163d9aad26b60e01b815260040160405180910390fd5b60008167ffffffffffffffff81111561043057610430610ad6565b604051908082528060200260200182016040528015610459578160200160208202803683370190505b50905060005b828110156104b05783818151811061047957610479610a7b565b602002602001015182828151811061049357610493610a7b565b6020908102919091010152806104a881610b10565b91505061045f565b506104ba81610805565b6104c38161090a565b935050505090565b6000816040516104da906109df565b6001600160a01b039091168152602001604051809103906000f080158015610506573d6000803e3d6000fd5b506001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319166001600160a01b0383811691821790925560408051918252918516602082015291925082917f828d2be040dede7698182e08dfa8bfbd663c879aee772509c4a2bd961d0ed43f910160405180910390a1505050565b6001546060906000036105b9575060408051600081526020810190915290565b60015460009067ffffffffffffffff8111156105d7576105d7610ad6565b604051908082528060200260200182016040528015610600578160200160208202803683370190505b5090506000805b6001548110156107365760006001828154811061062657610626610a7b565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b03166398d5fdca6040518163ffffffff1660e01b81526004016040805180830381865afa158015610680573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a49190610aec565b9150601890506106b48242610aa7565b101561072357600182815481106106cd576106cd610a7b565b9060005260206000200160009054906101000a90046001600160a01b03168484815181106106fd576106fd610a7b565b6001600160a01b03909216602092830291909101909101528261071f81610b10565b9350505b508061072e81610b10565b915050610607565b5080600003610755575050604080516000815260208101909152919050565b60008167ffffffffffffffff81111561077057610770610ad6565b604051908082528060200260200182016040528015610799578160200160208202803683370190505b50905060005b828110156107fd578381815181106107b9576107b9610a7b565b60200260200101518282815181106107d3576107d3610a7b565b6001600160a01b0390921660209283029190910190910152806107f581610b10565b91505061079f565b509392505050565b805160005b8181101561090557806000610820826001610b29565b90505b8381101561087b5784828151811061083d5761083d610a7b565b602002602001015185828151811061085757610857610a7b565b60200260200101511015610869578091505b8061087381610b10565b915050610823565b508181146108f25783818151811061089557610895610a7b565b60200260200101518483815181106108af576108af610a7b565b60200260200101518584815181106108c9576108c9610a7b565b602002602001018684815181106108e2576108e2610a7b565b6020908102919091010191909152525b50806108fd81610b10565b91505061080a565b505050565b805160009080820361092f5760405163521299a960e01b815260040160405180910390fd5b61093a600282610b52565b6000036109b35760028361094e8284610b66565b8151811061095e5761095e610a7b565b60200260200101518460016002856109769190610b66565b6109809190610aa7565b8151811061099057610990610a7b565b60200260200101516109a29190610b29565b6109ac9190610b66565b9392505050565b826109bf600283610b66565b815181106109cf576109cf610a7b565b6020026020010151915050919050565b6101fd80610b7b83390190565b6000602082840312156109fe57600080fd5b5035919050565b600060208284031215610a1757600080fd5b81356001600160a01b03811681146109ac57600080fd5b6020808252825182820181905260009190848201906040850190845b81811015610a6f5783516001600160a01b031683529284019291840191600101610a4a565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b81810381811115610aba57610aba610a91565b92915050565b634e487b7160e01b600052603160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b60008060408385031215610aff57600080fd5b505080516020909101519092909150565b600060018201610b2257610b22610a91565b5060010190565b80820180821115610aba57610aba610a91565b634e487b7160e01b600052601260045260246000fd5b600082610b6157610b61610b3c565b500690565b600082610b7557610b75610b3c565b50049056fe608060405234801561001057600080fd5b506040516101fd3803806101fd83398101604081905261002f91610054565b600280546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b61016a806100936000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80638da5cb5b1461005c57806391b7f5ed1461008c57806398d5fdca146100a1578063a035b1fe146100bc578063b80777ea146100d3575b600080fd5b60025461006f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61009f61009a36600461011b565b6100dc565b005b60005460015460408051928352602083019190915201610083565b6100c560005481565b604051908152602001610083565b6100c560015481565b6000819055426001556040518181527f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe09060200160405180910390a150565b60006020828403121561012d57600080fd5b503591905056fea26469706673582212207bce08ed1ca473e0dddb95384c49cc6f88540c7565db18724ec724cf923ea9a064736f6c63430008140033a2646970667358221220c92a214be40a716eca57057ea9d3a379d9a526040735ccf9fb051eea0e284fc164736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063977e79231161005b578063977e7923146100da57806398d5fdca146100f0578063df5dd1a5146100f8578063fb152f8c1461010b57600080fd5b80635b69a7d81461008257806380935dbf146100b25780638da5cb5b146100c7575b600080fd5b6100956100903660046109ec565b610120565b6040516001600160a01b0390911681526020015b60405180910390f35b6100c56100c03660046109ec565b61014a565b005b600054610095906001600160a01b031681565b6100e2601881565b6040519081526020016100a9565b6100e261028a565b6100c5610106366004610a05565b6104cb565b610113610599565b6040516100a99190610a2e565b6001818154811061013057600080fd5b6000918252602090912001546001600160a01b0316905081565b600154811061016c57604051634e23d03560e01b815260040160405180910390fd5b60006001828154811061018157610181610a7b565b600091825260209091200154600180546001600160a01b039092169250906101aa908290610aa7565b815481106101ba576101ba610a7b565b600091825260209091200154600180546001600160a01b0390921691849081106101e6576101e6610a7b565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600180548061022557610225610ac0565b6000828152602090819020600019908301810180546001600160a01b03191690559091019091556040516001600160a01b03831681527f9c8e7d83025bef8a04c664b2f753f64b8814bdb7e27291d7e50935f18cc3c712910160405180910390a15050565b60015460009081036102af5760405163d9aad26b60e01b815260040160405180910390fd5b60015460009067ffffffffffffffff8111156102cd576102cd610ad6565b6040519080825280602002602001820160405280156102f6578160200160208202803683370190505b5090506000805b6001548110156103f3576000806001838154811061031d5761031d610a7b565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b03166398d5fdca6040518163ffffffff1660e01b81526004016040805180830381865afa158015610377573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061039b9190610aec565b909250905060186103ac8242610aa7565b10156103de57818585815181106103c5576103c5610a7b565b6020908102919091010152836103da81610b10565b9450505b505080806103eb90610b10565b9150506102fd565b50806000036104155760405163d9aad26b60e01b815260040160405180910390fd5b60008167ffffffffffffffff81111561043057610430610ad6565b604051908082528060200260200182016040528015610459578160200160208202803683370190505b50905060005b828110156104b05783818151811061047957610479610a7b565b602002602001015182828151811061049357610493610a7b565b6020908102919091010152806104a881610b10565b91505061045f565b506104ba81610805565b6104c38161090a565b935050505090565b6000816040516104da906109df565b6001600160a01b039091168152602001604051809103906000f080158015610506573d6000803e3d6000fd5b506001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319166001600160a01b0383811691821790925560408051918252918516602082015291925082917f828d2be040dede7698182e08dfa8bfbd663c879aee772509c4a2bd961d0ed43f910160405180910390a1505050565b6001546060906000036105b9575060408051600081526020810190915290565b60015460009067ffffffffffffffff8111156105d7576105d7610ad6565b604051908082528060200260200182016040528015610600578160200160208202803683370190505b5090506000805b6001548110156107365760006001828154811061062657610626610a7b565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b03166398d5fdca6040518163ffffffff1660e01b81526004016040805180830381865afa158015610680573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a49190610aec565b9150601890506106b48242610aa7565b101561072357600182815481106106cd576106cd610a7b565b9060005260206000200160009054906101000a90046001600160a01b03168484815181106106fd576106fd610a7b565b6001600160a01b03909216602092830291909101909101528261071f81610b10565b9350505b508061072e81610b10565b915050610607565b5080600003610755575050604080516000815260208101909152919050565b60008167ffffffffffffffff81111561077057610770610ad6565b604051908082528060200260200182016040528015610799578160200160208202803683370190505b50905060005b828110156107fd578381815181106107b9576107b9610a7b565b60200260200101518282815181106107d3576107d3610a7b565b6001600160a01b0390921660209283029190910190910152806107f581610b10565b91505061079f565b509392505050565b805160005b8181101561090557806000610820826001610b29565b90505b8381101561087b5784828151811061083d5761083d610a7b565b602002602001015185828151811061085757610857610a7b565b60200260200101511015610869578091505b8061087381610b10565b915050610823565b508181146108f25783818151811061089557610895610a7b565b60200260200101518483815181106108af576108af610a7b565b60200260200101518584815181106108c9576108c9610a7b565b602002602001018684815181106108e2576108e2610a7b565b6020908102919091010191909152525b50806108fd81610b10565b91505061080a565b505050565b805160009080820361092f5760405163521299a960e01b815260040160405180910390fd5b61093a600282610b52565b6000036109b35760028361094e8284610b66565b8151811061095e5761095e610a7b565b60200260200101518460016002856109769190610b66565b6109809190610aa7565b8151811061099057610990610a7b565b60200260200101516109a29190610b29565b6109ac9190610b66565b9392505050565b826109bf600283610b66565b815181106109cf576109cf610a7b565b6020026020010151915050919050565b6101fd80610b7b83390190565b6000602082840312156109fe57600080fd5b5035919050565b600060208284031215610a1757600080fd5b81356001600160a01b03811681146109ac57600080fd5b6020808252825182820181905260009190848201906040850190845b81811015610a6f5783516001600160a01b031683529284019291840191600101610a4a565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b81810381811115610aba57610aba610a91565b92915050565b634e487b7160e01b600052603160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b60008060408385031215610aff57600080fd5b505080516020909101519092909150565b600060018201610b2257610b22610a91565b5060010190565b80820180821115610aba57610aba610a91565b634e487b7160e01b600052601260045260246000fd5b600082610b6157610b61610b3c565b500690565b600082610b7557610b75610b3c565b50049056fe608060405234801561001057600080fd5b506040516101fd3803806101fd83398101604081905261002f91610054565b600280546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b61016a806100936000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80638da5cb5b1461005c57806391b7f5ed1461008c57806398d5fdca146100a1578063a035b1fe146100bc578063b80777ea146100d3575b600080fd5b60025461006f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61009f61009a36600461011b565b6100dc565b005b60005460015460408051928352602083019190915201610083565b6100c560005481565b604051908152602001610083565b6100c560015481565b6000819055426001556040518181527f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe09060200160405180910390a150565b60006020828403121561012d57600080fd5b503591905056fea26469706673582212207bce08ed1ca473e0dddb95384c49cc6f88540c7565db18724ec724cf923ea9a064736f6c63430008140033a2646970667358221220c92a214be40a716eca57057ea9d3a379d9a526040735ccf9fb051eea0e284fc164736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "addOracle(address)": {
        "details": "Creates a new SimpleOracle instance and adds it to the oracles array.",
        "params": {
          "_owner": "The address that will own the newly created oracle and can update its price"
        }
      },
      "getActiveOracleNodes()": {
        "details": "Iterates through all oracles and filters those with recent timestamps (within STALE_DATA_WINDOW).      Uses a temporary array to collect active nodes, then creates a right-sized return array      for gas optimization.",
        "returns": {
          "_0": "An array of addresses representing the currently active oracle contracts"
        }
      },
      "getPrice()": {
        "details": "Filters oracles with timestamps older than STALE_DATA_WINDOW, then calculates median      of remaining valid prices. Uses StatisticsUtils for sorting and median calculation.",
        "returns": {
          "_0": "The median price from all active oracles"
        }
      },
      "removeOracle(uint256)": {
        "details": "Uses swap-and-pop pattern for gas-efficient removal. Order is not preserved.      Reverts with IndexOutOfBounds, if the provided index is >= oracles.length.",
        "params": {
          "index": "The index of the oracle to remove from the oracles array"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "errors": {
      "EmptyArray()": [
        {
          "notice": "Errors //////"
        }
      ],
      "OnlyOwner()": [
        {
          "notice": "Errors //////"
        }
      ]
    },
    "events": {
      "OracleAdded(address,address)": {
        "notice": "Events /////"
      }
    },
    "kind": "user",
    "methods": {
      "addOracle(address)": {
        "notice": "Adds a new oracle to the whitelist by deploying a SimpleOracle contract (only contract owner)"
      },
      "constructor": {
        "notice": "Constructor ///"
      },
      "getActiveOracleNodes()": {
        "notice": "Returns the addresses of all oracles that have updated their price within the last STALE_DATA_WINDOW"
      },
      "getPrice()": {
        "notice": "Returns the aggregated price from all active oracles using median calculation"
      },
      "owner()": {
        "notice": "State Variables //"
      },
      "removeOracle(uint256)": {
        "notice": "Removes an oracle from the whitelist by its array index (only contract owner)"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 87,
        "contract": "contracts/00_Whitelist/WhitelistOracle.sol:WhitelistOracle",
        "label": "owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 91,
        "contract": "contracts/00_Whitelist/WhitelistOracle.sol:WhitelistOracle",
        "label": "oracles",
        "offset": 0,
        "slot": "1",
        "type": "t_array(t_contract(SimpleOracle)68)dyn_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_contract(SimpleOracle)68)dyn_storage": {
        "base": "t_contract(SimpleOracle)68",
        "encoding": "dynamic_array",
        "label": "contract SimpleOracle[]",
        "numberOfBytes": "32"
      },
      "t_contract(SimpleOracle)68": {
        "encoding": "inplace",
        "label": "contract SimpleOracle",
        "numberOfBytes": "20"
      }
    }
  }
}